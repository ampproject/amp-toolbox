<!doctype html>
<html âš¡>
<head>
  <script async custom-element=amp-experiment src=https://cdn.ampproject.org/v0/amp-experiment-0.1.js></script>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <link rel=stylesheet href=https://cdn.ampproject.org/v0.css>
  <link href=https://fonts.googleapis.com/css?foobar rel=stylesheet type=text/css>
  <link href=https://example.com/favicon.ico rel=icon>
  <style amp-custom>
    .another{ display:block }
    @keyframes invalidKeyframe {
      from{
        height: 0;
      }
      to {
        height: 1;
      }
    }
    .foo { height:0 }
    @supports (display:grid) {
      @keyframes alsoInvalid { 
        from { overflow: visible; } to{ overflow: hidden; }
      }
    }
    @keyframes validAnim {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
  </style>
</head>
<body>
  <p>I should come before style[amp-keyframes]</p>
</body>
</html>